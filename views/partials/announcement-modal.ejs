<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     Announcement Modal ‚Äî ‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤ (include ‡πÉ‡∏ô navbar / standalone)
     Cookie: announcement_dismissed ‚Äî ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ 1 ‡∏ß‡∏±‡∏ô
     Design: ‡πÉ‡∏ä‡πâ design system ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏ß‡πá‡∏ö‡∏´‡∏•‡∏±‡∏Å (light theme, Mali font)
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="announcementOverlay" style="
  display: none;
  position: fixed; inset: 0; z-index: 99999;
  background: rgba(18, 25, 38, 0.35);
  backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px);
  animation: annFadeIn 0.25s ease;
  justify-content: center; align-items: center;
">
    <div id="announcementModal" style="
    position: relative;
    background: #FFFFFF;
    border: 1px solid #E1E5EF;
    border-radius: 12px;
    padding: 28px 24px 22px;
    max-width: 420px;
    width: 92%;
    color: #1E2430;
    box-shadow: 0 8px 32px rgba(0,0,0,0.12), 0 2px 8px rgba(0,0,0,0.06);
    animation: annSlideUp 0.35s cubic-bezier(0.16, 1, 0.3, 1);
    font-family: 'Mali', 'Inter', sans-serif;
  ">
        <!-- Close Button -->
        <button id="annCloseBtn" style="
      position: absolute; top: 12px; right: 12px;
      background: transparent; border: 1px solid #E1E5EF;
      color: #8B92A3; font-size: 16px; cursor: pointer;
      width: 30px; height: 30px; border-radius: 8px;
      display: flex; align-items: center; justify-content: center;
      transition: all 0.2s ease;
    " title="‡∏õ‡∏¥‡∏î">&times;</button>

        <!-- Badge -->
        <div style="
      display: inline-flex; align-items: center; gap: 5px;
      background: rgba(74, 111, 165, 0.1);
      color: #4A6FA5; font-size: 11px; font-weight: 600;
      padding: 4px 10px; border-radius: 999px;
      margin-bottom: 14px;
    ">
            <span style="font-size: 12px;">‚ú®</span> ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà
        </div>

        <!-- Title -->
        <h2 style="
      font-family: 'Mali', 'Inter', sans-serif;
      font-size: 20px; font-weight: 700; margin: 0 0 6px;
      color: #1E2430; line-height: 1.3;
    ">InstructionAI</h2>

        <p style="
      font-size: 13.5px; color: #5C6372; margin: 0 0 18px;
      line-height: 1.65;
    ">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Instruction ‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£<b style="color:#365983;">‡πÅ‡∏ä‡∏ó‡∏Å‡∏±‡∏ö AI</b> ‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á
            ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡∏•‡∏∞‡∏ä‡πà‡∏≠‡∏á</p>

        <!-- Features -->
        <div style="
      display: flex; flex-direction: column; gap: 8px;
      margin-bottom: 20px;
      background: #F6F7FB;
      border: 1px solid #E1E5EF;
      border-radius: 10px;
      padding: 14px 14px;
    ">
            <div style="display:flex; align-items:center; gap:10px;">
                <div style="
          width: 32px; height: 32px; border-radius: 8px; flex-shrink: 0;
          background: rgba(61, 127, 193, 0.12);
          display: flex; align-items: center; justify-content: center;
          font-size: 15px;
        ">üîç</div>
                <div>
                    <div style="font-size: 13px; font-weight: 600; color: #1E2430;">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</div>
                    <div style="font-size: 11.5px; color: #8B92A3; line-height: 1.4;">‡∏ñ‡∏≤‡∏° AI
                        ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                </div>
            </div>
            <div style="height: 1px; background: #E1E5EF; margin: 2px 0;"></div>
            <div style="display:flex; align-items:center; gap:10px;">
                <div style="
          width: 32px; height: 32px; border-radius: 8px; flex-shrink: 0;
          background: rgba(230, 183, 92, 0.15);
          display: flex; align-items: center; justify-content: center;
          font-size: 15px;
        ">‚úèÔ∏è</div>
                <div>
                    <div style="font-size: 13px; font-weight: 600; color: #1E2430;">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á</div>
                    <div style="font-size: 11.5px; color: #8B92A3; line-height: 1.4;">‡∏™‡∏±‡πà‡∏á AI ‡πÄ‡∏û‡∏¥‡πà‡∏° ‡∏•‡∏ö
                        ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå</div>
                </div>
            </div>
            <div style="height: 1px; background: #E1E5EF; margin: 2px 0;"></div>
            <div style="display:flex; align-items:center; gap:10px;">
                <div style="
          width: 32px; height: 32px; border-radius: 8px; flex-shrink: 0;
          background: rgba(45, 143, 111, 0.12);
          display: flex; align-items: center; justify-content: center;
          font-size: 15px;
        ">üß†</div>
                <div>
                    <div style="font-size: 13px; font-weight: 600; color: #1E2430;">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</div>
                    <div style="font-size: 11.5px; color: #8B92A3; line-height: 1.4;">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö
                        ‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>
                </div>
            </div>
            <div style="height: 1px; background: #E1E5EF; margin: 2px 0;"></div>
            <div style="display:flex; align-items:center; gap:10px;">
                <div style="
          width: 32px; height: 32px; border-radius: 8px; flex-shrink: 0;
          background: rgba(74, 111, 165, 0.12);
          display: flex; align-items: center; justify-content: center;
          font-size: 15px;
        ">‚Ü©Ô∏è</div>
                <div>
                    <div style="font-size: 13px; font-weight: 600; color: #1E2430;">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô</div>
                    <div style="font-size: 11.5px; color: #8B92A3; line-height: 1.4;">‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏°‡∏µ Undo
                        ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</div>
                </div>
            </div>
        </div>

        <!-- CTA Button -->
        <a href="/admin/instruction-ai" id="annCtaBtn" style="
      display: flex; align-items: center; justify-content: center; gap: 6px;
      width: 100%; padding: 10px 0;
      background: #4A6FA5;
      color: #fff; font-size: 14px; font-weight: 600;
      border: none; border-radius: 8px; cursor: pointer;
      text-decoration: none;
      transition: all 0.2s ease;
      font-family: 'Mali', 'Inter', sans-serif;
      box-shadow: 0 2px 8px rgba(74, 111, 165, 0.25);
    ">
            <span>‡πÑ‡∏õ‡∏•‡∏≠‡∏á‡πÄ‡∏•‡∏¢</span>
            <span style="font-size: 15px;">‚Üí</span>
        </a>

        <!-- Dismiss checkbox -->
        <label id="annDismissLabel" style="
      display: flex; align-items: center; gap: 7px;
      margin-top: 14px; cursor: pointer;
      font-size: 12px; color: #8B92A3;
      user-select: none;
    ">
            <input type="checkbox" id="annDismissCheck" style="
        accent-color: #4A6FA5; width: 14px; height: 14px; cursor: pointer;
      ">
            ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏µ‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 1 ‡∏ß‡∏±‡∏ô
        </label>
    </div>
</div>

<style>
    @keyframes annFadeIn {
        from {
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }

    @keyframes annSlideUp {
        from {
            opacity: 0;
            transform: translateY(20px) scale(0.98);
        }

        to {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    }

    #annCloseBtn:hover {
        background: #F6F7FB;
        color: #1E2430;
        border-color: #ccc;
    }

    #annCtaBtn:hover {
        background: #365983;
        box-shadow: 0 4px 12px rgba(74, 111, 165, 0.35);
        transform: translateY(-1px);
    }
</style>

<script>
    (function () {
        var COOKIE_NAME = 'announcement_dismissed';
        var COOKIE_DAYS = 1;

        function getCookie(name) {
            var v = document.cookie.match('(^|;)\\s*' + name + '\\s*=\\s*([^;]+)');
            return v ? v.pop() : null;
        }

        function setCookie(name, value, days) {
            var d = new Date();
            d.setTime(d.getTime() + days * 24 * 60 * 60 * 1000);
            document.cookie = name + '=' + value + ';expires=' + d.toUTCString() + ';path=/;SameSite=Lax';
        }

        // ‡∏ñ‡πâ‡∏≤ cookie ‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á
        if (getCookie(COOKIE_NAME) === '1') return;

        // ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ instruction-ai ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á
        if (window.location.pathname === '/admin/instruction-ai' || window.location.pathname === '/admin/instruction-chat') return;

        var overlay = document.getElementById('announcementOverlay');
        if (!overlay) return;

        // ‡πÅ‡∏™‡∏î‡∏á modal (delay ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î‡∏Å‡πà‡∏≠‡∏ô)
        setTimeout(function () {
            overlay.style.display = 'flex';
        }, 600);

        function closeModal() {
            overlay.style.display = 'none';
            var checkbox = document.getElementById('annDismissCheck');
            if (checkbox && checkbox.checked) {
                setCookie(COOKIE_NAME, '1', COOKIE_DAYS);
            }
        }

        // ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î
        document.getElementById('annCloseBtn').addEventListener('click', closeModal);

        // ‡∏Å‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏õ‡∏¥‡∏î
        overlay.addEventListener('click', function (e) {
            if (e.target === overlay) closeModal();
        });

        // ‡∏Å‡∏î Escape ‡∏õ‡∏¥‡∏î
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape' && overlay.style.display === 'flex') closeModal();
        });

        // ‡∏õ‡∏∏‡πà‡∏° CTA ‚Äî ‡∏ñ‡πâ‡∏≤‡∏ï‡∏¥‡πä‡∏Å checkbox ‡πÉ‡∏´‡πâ set cookie ‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏õ
        document.getElementById('annCtaBtn').addEventListener('click', function () {
            var checkbox = document.getElementById('annDismissCheck');
            if (checkbox && checkbox.checked) {
                setCookie(COOKIE_NAME, '1', COOKIE_DAYS);
            }
        });
    })();
</script>