<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     Announcement Modal ‚Äî ‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤ (include ‡πÉ‡∏ô navbar / standalone)
     Cookie: announcement_dismissed ‚Äî ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ 1 ‡∏ß‡∏±‡∏ô
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="announcementOverlay" style="
  display: none;
  position: fixed; inset: 0; z-index: 99999;
  background: rgba(0,0,0,0.55);
  backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
  animation: annFadeIn 0.3s ease;
  justify-content: center; align-items: center;
">
    <div id="announcementModal" style="
    position: relative;
    background: linear-gradient(145deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    border: 1px solid rgba(124, 92, 252, 0.3);
    border-radius: 20px;
    padding: 36px 32px 28px;
    max-width: 480px;
    width: 92%;
    color: #e8e8e8;
    box-shadow: 0 25px 60px rgba(0,0,0,0.5), 0 0 40px rgba(124,92,252,0.15);
    animation: annSlideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    font-family: 'Inter', 'Mali', sans-serif;
  ">
        <!-- Close Button -->
        <button id="annCloseBtn" style="
      position: absolute; top: 14px; right: 16px;
      background: rgba(255,255,255,0.08); border: none;
      color: #aaa; font-size: 18px; cursor: pointer;
      width: 32px; height: 32px; border-radius: 8px;
      display: flex; align-items: center; justify-content: center;
      transition: all 0.2s;
    " title="‡∏õ‡∏¥‡∏î">&times;</button>

        <!-- Badge -->
        <div style="
      display: inline-flex; align-items: center; gap: 6px;
      background: linear-gradient(135deg, #7c5cfc, #6c47ff);
      color: #fff; font-size: 11px; font-weight: 700;
      padding: 4px 12px; border-radius: 20px;
      margin-bottom: 16px; letter-spacing: 0.5px;
    ">
            <span style="font-size: 13px;">‚ú®</span> ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà
        </div>

        <!-- Title -->
        <h2 style="
      font-size: 22px; font-weight: 800; margin: 0 0 8px;
      background: linear-gradient(135deg, #fff 0%, #c4b5fd 100%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1.3;
    ">InstructionAI</h2>

        <p style="
      font-size: 14px; color: #b0b0c8; margin: 0 0 20px;
      line-height: 1.6;
    ">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Instruction ‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£<b style="color:#d4c5ff;">‡πÅ‡∏ä‡∏ó‡∏Å‡∏±‡∏ö AI</b> ‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á
            ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡∏•‡∏∞‡∏ä‡πà‡∏≠‡∏á</p>

        <!-- Features -->
        <div style="
      display: flex; flex-direction: column; gap: 10px;
      margin-bottom: 24px;
    ">
            <div style="display:flex; align-items:flex-start; gap:10px;">
                <span style="font-size:18px; flex-shrink:0; margin-top:1px;">üîç</span>
                <div>
                    <div style="font-size:13px; font-weight:700; color:#e0d4ff;">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</div>
                    <div style="font-size:12px; color:#8888a8; line-height:1.5;">‡∏ñ‡∏≤‡∏° AI
                        ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                </div>
            </div>
            <div style="display:flex; align-items:flex-start; gap:10px;">
                <span style="font-size:18px; flex-shrink:0; margin-top:1px;">‚úèÔ∏è</span>
                <div>
                    <div style="font-size:13px; font-weight:700; color:#e0d4ff;">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á</div>
                    <div style="font-size:12px; color:#8888a8; line-height:1.5;">‡∏™‡∏±‡πà‡∏á AI ‡πÄ‡∏û‡∏¥‡πà‡∏° ‡∏•‡∏ö
                        ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå</div>
                </div>
            </div>
            <div style="display:flex; align-items:flex-start; gap:10px;">
                <span style="font-size:18px; flex-shrink:0; margin-top:1px;">üß†</span>
                <div>
                    <div style="font-size:13px; font-weight:700; color:#e0d4ff;">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</div>
                    <div style="font-size:12px; color:#8888a8; line-height:1.5;">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö
                        ‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>
                </div>
            </div>
            <div style="display:flex; align-items:flex-start; gap:10px;">
                <span style="font-size:18px; flex-shrink:0; margin-top:1px;">‚Ü©Ô∏è</span>
                <div>
                    <div style="font-size:13px; font-weight:700; color:#e0d4ff;">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô</div>
                    <div style="font-size:12px; color:#8888a8; line-height:1.5;">‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏°‡∏µ Undo
                        ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                </div>
            </div>
        </div>

        <!-- CTA Button -->
        <a href="/admin/instruction-ai" id="annCtaBtn" style="
      display: flex; align-items: center; justify-content: center; gap: 8px;
      width: 100%; padding: 12px 0;
      background: linear-gradient(135deg, #7c5cfc 0%, #6c47ff 100%);
      color: #fff; font-size: 15px; font-weight: 700;
      border: none; border-radius: 12px; cursor: pointer;
      text-decoration: none;
      transition: all 0.2s;
      box-shadow: 0 4px 15px rgba(124,92,252,0.35);
    ">
            <span>‡πÑ‡∏õ‡∏•‡∏≠‡∏á‡πÄ‡∏•‡∏¢</span>
            <span style="font-size:16px;">‚Üí</span>
        </a>

        <!-- Dismiss checkbox -->
        <label id="annDismissLabel" style="
      display: flex; align-items: center; gap: 8px;
      margin-top: 16px; cursor: pointer;
      font-size: 12px; color: #777;
      user-select: none;
    ">
            <input type="checkbox" id="annDismissCheck" style="
        accent-color: #7c5cfc; width: 15px; height: 15px; cursor: pointer;
      ">
            ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏µ‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 1 ‡∏ß‡∏±‡∏ô
        </label>
    </div>
</div>

<style>
    @keyframes annFadeIn {
        from {
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }

    @keyframes annSlideUp {
        from {
            opacity: 0;
            transform: translateY(30px) scale(0.96);
        }

        to {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    }

    #annCloseBtn:hover {
        background: rgba(255, 255, 255, 0.15);
        color: #fff;
    }

    #annCtaBtn:hover {
        box-shadow: 0 6px 25px rgba(124, 92, 252, 0.5);
        transform: translateY(-1px);
    }
</style>

<script>
    (function () {
        var COOKIE_NAME = 'announcement_dismissed';
        var COOKIE_DAYS = 1;

        function getCookie(name) {
            var v = document.cookie.match('(^|;)\\s*' + name + '\\s*=\\s*([^;]+)');
            return v ? v.pop() : null;
        }

        function setCookie(name, value, days) {
            var d = new Date();
            d.setTime(d.getTime() + days * 24 * 60 * 60 * 1000);
            document.cookie = name + '=' + value + ';expires=' + d.toUTCString() + ';path=/;SameSite=Lax';
        }

        // ‡∏ñ‡πâ‡∏≤ cookie ‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á
        if (getCookie(COOKIE_NAME) === '1') return;

        // ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ instruction-ai ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á
        if (window.location.pathname === '/admin/instruction-ai' || window.location.pathname === '/admin/instruction-chat') return;

        var overlay = document.getElementById('announcementOverlay');
        if (!overlay) return;

        // ‡πÅ‡∏™‡∏î‡∏á modal (delay ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î‡∏Å‡πà‡∏≠‡∏ô)
        setTimeout(function () {
            overlay.style.display = 'flex';
        }, 600);

        function closeModal() {
            overlay.style.display = 'none';
            var checkbox = document.getElementById('annDismissCheck');
            if (checkbox && checkbox.checked) {
                setCookie(COOKIE_NAME, '1', COOKIE_DAYS);
            }
        }

        // ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î
        document.getElementById('annCloseBtn').addEventListener('click', closeModal);

        // ‡∏Å‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏õ‡∏¥‡∏î
        overlay.addEventListener('click', function (e) {
            if (e.target === overlay) closeModal();
        });

        // ‡∏Å‡∏î Escape ‡∏õ‡∏¥‡∏î
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape' && overlay.style.display === 'flex') closeModal();
        });

        // ‡∏õ‡∏∏‡πà‡∏° CTA ‚Äî ‡∏ñ‡πâ‡∏≤‡∏ï‡∏¥‡πä‡∏Å checkbox ‡πÉ‡∏´‡πâ set cookie ‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏õ
        document.getElementById('annCtaBtn').addEventListener('click', function () {
            var checkbox = document.getElementById('annDismissCheck');
            if (checkbox && checkbox.checked) {
                setCookie(COOKIE_NAME, '1', COOKIE_DAYS);
            }
        });
    })();
</script>